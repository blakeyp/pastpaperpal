4. (a) Prove that the following formula is unsatisfiable using the Nelson-Oppen procedure,
where the variables are interpreted over the integers:
g(f(x1 − 2)) = x1 + 2 ∧ g(f(x2)) = x2 − 2 ∧ x2 + 1 = x1 − 1. [15]
(b) A simple improvement to the Nelson-Oppen procedure for convex theories is to re-
strict the equality propagation step as follows:
We call a variable local when it appears only in the literals of a single theory.
If an equality x = y is implied by the literals Fi of a theory Ti and not by
the literals Fj of a theory Tj , then we propagate it to Fj only if both x and y
are not local to Fi.
Explain why this improvement is correct. [20]
